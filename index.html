<html>
    <head>
        <!-- Latest compiled and minified CSS -->
        <link href="css/bootstrap.css" rel="stylesheet" />
        <link href="css/bootstrap-theme.css" rel="stylesheet" />

    </head>
    <script src="https://www.gstatic.com/firebasejs/5.7.3/firebase.js"></script>
    
    <script src="js/b/jquery.min.js"></script>
    <script src="js/b/bootstrap.min.js"></script>
    <body>
            <div class="jumbotron" style="margin: 10px; padding: 10px; border-radius: 5px;">
                    <h1>Monagas 12 horas</h1>
                    <p>Prototipo para pruebas, si surge algun problema me pueden encontrar en el grupo de escaladores de Whatsapp</p>
                    <p><a class="btn btn-primary btn-lg" href="https://github.com/MrLuiso/Monagas12Horas" role="button">Github Repo</a></p>
            </div>
        <div id="container" class="panel-group" role="tablist" aria-multiselectable="true">
        </div>
    </body>
    <script>
            var config = {
                apiKey: "AIzaSyDFUczBZ-3jsP4Z_McUzmjz9GWrxwEzqhY",
                authDomain: "monagas12horas.firebaseapp.com",
                databaseURL: "https://monagas12horas.firebaseio.com",
                projectId: "monagas12horas",
                storageBucket: "monagas12horas.appspot.com",
                messagingSenderId: "740175164711"
            };
            firebase.initializeApp(config);

            var database = firebase.database();

            firebase.database().ref().once('value').then(function(snapshot) {


                var rutas = snapshot.val().Areas.LaEscalera;
                console.log(rutas);

                var container = document.getElementById("container");
                for(var i in rutas){

                    var titulo = rutas[i].titulo;
                    var grado = rutas[i].grado;
                    var cls = rutas[i].class;

                    container.innerHTML += "<div class=\"panel panel-default\" style=\"margin: 10px\">" +
                    "<div class=\"panel-heading\" role=\"tab\" id=\"heading" + cls + "\">" +
                        "<h4 class=\"panel-title\">" +
                            "<a class=\"collapsed\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#container\" href=\"#"+ cls +"\" aria-expanded=\"false\" aria-controls=\""+ cls +"\">" + 
                                titulo + " " + grado +
                            "</a>" +
                        "</h4>" +
                    "</div>" +
                    "<div id=\""+ cls +"\" class=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"heading" + cls + "\">" +
                        "<div class=\"panel-body\">" +
                            //Button
                            "<div class=\"btn-group\">" +
                                "<button type=\"button\" class=\"btn btn-default dropdown-toggle\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">" +
                                    "Not Climbed <span class=\"caret\"></span>" + 
                                "</button>" + 
                                "<ul class=\"dropdown-menu\">" +
                                    "<li><a href=\"#\">Lead</a></li>" +
                                    "<li><a href=\"#\">TopRope</a></li>" +
                                "</ul>" +
                            "</div>" +
                            //End Button
                        "</div>" +
                    "</div>" + 
                "</div>";
                }   
            });
        </script>
</html>